---
layout: post
title: Research Session - JS UT Experimentation
date: 2014-03-21 15:18:08.000000000 -04:00
categories:
- Testing
tags: []
status: publish
type: post
published: true
meta:
  _publicize_pending: '1'
author: 
---
<p><span style="line-height:1.5;">Recommend starting with </span><a style="line-height:1.5;" href="http://chaijs.com/" target="_blank">Chai.js</a><span style="line-height:1.5;"> + </span><a style="line-height:1.5;" href="http://visionmedia.github.io/mocha/">Mocha</a><span style="line-height:1.5;">, and </span><a style="line-height:1.5;" href="http://sinonjs.org/" target="_blank">Sinon.js</a><span style="line-height:1.5;"> for mocking when necessary. </span></p>
<p><span style="line-height:1.5;">A lot of the test libraries available are similar, so it is hard to go wrong. Chai.js appears to be commonly used and also integrated into larger frameworks. Since Chai is just a test authoring library, there is still need for a tool to execute the tests. For current needs, Mocha has good support and a lot of reporting output options. At this point, the added benefits provided by theintern.io do not add immediate value for me, but transitioning to it from Mocha should not be difficult.</span></p>
<p><span style="line-height:1.5;">Further analysis plans</span></p>
<ul>
<li>Look into Test Runner outputs and how they might integrate into JUnit reports</li>
</ul>
<p>Simplistic examples created during experimentation can be found on <a href="https://github.com/jclarkin/javascript-test-frameworks" target="_blank">Github here</a>.</p>
<p>Session notes below the fold...</p>
<p><!--more--></p>
<div><strong>Mission</strong>: Attempt to create JSUT (Javascript Unit Test) using simple libraries</div>
<div><strong>Charter</strong>:</div>
<div>
<ul>
<li>Create some executable tests using <a href="http://chaijs.com/" target="_blank">Chai.js</a></li>
<li>Follow traditional JUnit TDD patterns rather than BDD</li>
<li>(added) Explore BDD experiments as well</li>
</ul>
</div>
<div></div>
<div><strong>Session</strong>:</div>
<ul>
<li>Start: March 19, 2014</li>
<li>Experiment: Attempted to figure out <a href="http://chaijs.com/" target="_blank">Chai.js</a></li>
<li>Fail: could not solve how to run the tests</li>
<li>Experiment: Moving on to <a href="https://qunitjs.com/" target="_blank">QUnit</a> to warm my experience</li>
<li>Success: got a simple sample of QUnit tests and runner executing</li>
<li>Discovery: Chai.js does not have a test runner. We need to pick one to execute the chai tests</li>
<li>Experiment: Chai.js with Mocha as the test runner</li>
<li>Fail: Having trouble setting it up.</li>
<li>Learn: Found these <a href="https://github.com/Bartvds/chai-tdd-plugins" target="_blank">cool chai.js plugins</a> that could be useful: helpers for statistics, jquery, http processing, and more</li>
<li>Learn: Found <a href="https://gist.github.com/maicki/7781943" target="_blank">this article</a> to help me out</li>
<li>Success: After much initial confusion, I have successfully authored some simple tests that I can run via HTML in a browser</li>
<li>Learn: Visit from <a href="https://twitter.com/snocorp" target="_blank">@snocorp</a> has convinced me that it is silly to ignore BDD due to historic corporate aversion to change<br />
Increasing the charter to include BDD experimentation</li>
<li>Experiment: Create a BDD version of the chai-mocha tests</li>
<li>Fail: Trouble getting the 'throw' scenario to work...<br />
Trying a success and fail case to ensure my understanding...</li>
<li>Success: Added test cases for both throw and not throw to ensure understanding</li>
<li>Experiment: Setup a <a href="http://jasmine.github.io/" target="_blank">Jasmine</a> test suite (BDD library and runner combined)</li>
<li>Success:
<ul>
<li>very easy to use</li>
<li>nearly identical to the chai-mocha-bdd experiment</li>
</ul>
</li>
<li>Learn: Based on my initial research report, there exists <a href="http://unitjs.com/" target="_blank">Unit.js</a>
<ul>
<li>I misunderstood it with initial research</li>
<li>It is a library that contains the following micro-libraries
<ul>
<li>Mocking via <a href="http://sinonjs.org/" target="_blank">Sinon.js</a></li>
<li>BDD via <a href="https://github.com/moll/js-must" target="_blank">Must.js</a> + <a href="https://github.com/visionmedia/should.js/" target="_blank">Should.js</a> + <a href="https://github.com/LearnBoost/expect.js/" target="_blank">Expect.js</a></li>
<li>TDD via <a href="http://nodejs.org/api/assert.html" target="_blank">Node assert</a></li>
</ul>
</li>
<li>It does not have a Test Runner, but it recommends Mocha as a decent starting point</li>
</ul>
</li>
<li>Paused - End of workday</li>
<li>Start: March 20, 2014</li>
<li>Learn: Audit the "theintern.io" webinar
<ul>
<li>Good presentation</li>
<li>An alternate Test Runner to mocha</li>
<li>Supports JS tests and Selenium (may require setting up a Selenium Grid to communicate to)</li>
<li>Easy integration to Saucelabs (which can work in a secured environment via a secured tunnel)</li>
<li>Covered AJAX mocking using AMD and replacing the default map of loaders at Setup, and reverting at teardown</li>
<li>Framework built with Dojo</li>
<li>Chai for assertions</li>
<li>Istanbul for Code coverage</li>
<li>Need to research and better understand Test Reports/Outputs</li>
</ul>
</li>
<li>Learn: Attended OttawaJS Meetup
<ul>
<li>Confirmed that my research is on the right tools/libraries/frameworks</li>
<li>Was recommended to look into <a href="http://karma-runner.github.io/" target="_blank">Karma</a> test runner (previously called Testacular)</li>
</ul>
</li>
<li>Paused - End of workday</li>
<li>Start: March 21, 2014</li>
<li>Learn: Karma test runner
<ul>
<li>Looks as good for test running as the alternative so far</li>
<li>Has nice automation abilities similar to <a href="http://gruntjs.com/" target="_blank">Grunt</a></li>
<li>Requires <a href="http://nodejs.org/" target="_blank">Node.js</a></li>
</ul>
</li>
<li>Explain: Create summary of research</li>
<li>Share: Place learning material into a <a href="https://github.com/jclarkin/javascript-test-frameworks" target="_blank">public repo</a> for others to also learn from it</li>
</ul>
